{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\react\\\\06-onwards-to-a-bigger-project-starting-project\\\\pages\\\\[meetupId]\\\\index.js\";\nimport MeetupDetail from \"../../components/meetups/MeetupDetail\";\nimport { MongoClient, ObjectId } from \"mongodb\";\nimport Head from \"next/head\";\nimport { Fragment } from \"react\";\n\nfunction MeetupDetails(props) {\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: props.meetupData.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: props.meetupData.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MeetupDetail, {\n      image: props.meetupData.image,\n      title: props.meetupData.title,\n      address: props.meetupData.address,\n      description: props.meetupData.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n}\n/* if it dynamic page and we use getStaticProps we must export this func,\r\ngetStaticPaths allows you to control which pages are generated during the build instead of on-demand with fallback,will statically pre-render all the paths specified by getStaticPaths.  */\n\n\nexport async function getStaticPaths() {\n  /* object have path key and it's array have multiple object and obj should have params key */\n  const client = await MongoClient.connect(\"mongodb+srv://Abood:Abood123ax@next-js.syz3y0l.mongodb.net/?retryWrites=true&w=majority\");\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\");\n  const meetups = await meetupsCollection.find({}, {\n    _id: 1\n  }).toArray();\n  client.close(); //first empty object will give me all object,second arg will define which felid should be extract for every doc, _id: 1 =>this mean only include the id\n\n  return {\n    fallback: true,\n\n    /* if it false,mean your path's contain all supported  meetupID=>that's mean if use enter something ex:m3=>will see 404 error,if it true next js will try to generate page\r\n    for this meetup id dynamically on the server for incoming request,it's good features because it's allow us to pre-generate some of your pages for specific meetup id value\r\n    (ex :page visit most frequently and pre generate the messing one dynamically when request for them are coming in) \r\n    true : new path will be statically generated (getStaticProps is called) - loading state is shown while generating page(via router.isFallback and showing fallback page) -\r\n     page is rendered with required props after generating - \r\n     new path will be cached in CDN (later requests will result in cached page) - crawler Bots may index fallback page (not good for Seo) \r\n      true is useful if your app has a very large number of static pages that depend on data (such as a very large e-commerce site).\r\n       If you want to pre-render all product pages, the builds would take a very long time. Instead, you may statically generate a small subset of pages and use fallback: \r\n       true for the rest.*/\n    paths: meetups.map(meetup => ({\n      params: {\n        meetupId: meetup._id.toString()\n      }\n    }))\n    /*  [\r\n      {\r\n        params: {\r\n          meetupId: \"m1\",\r\n        },\r\n      },\r\n      {\r\n        params: {\r\n          meetupId: \"m2\",\r\n        },\r\n      },\r\n    ], */\n\n  };\n}\n/* next js need to pre-generate all version of this dynamic page for all supported ID,because it's dynamic,next js should know for which id value should be pre-generate the page\r\nif we add id not found will see 404 error*/\n\nexport async function getStaticProps(context) {\n  /*fetch data for a single meetup,we need way to identify that's meetup (ex:ID),the id is encoded in url\r\n  so we can use Router hook to access router obj then use query property ,it's can use in component func \r\n  but it's not accessible inside getStaticProps.\r\n   */\n\n  /*that's object where out identifier between square bracts will be properties and the value\r\n   will be the actual value encoded in url*/\n  const meetupId = context.params.meetupId; //meetupId because that identifier i have between square bracts\n\n  const client = await MongoClient.connect(\"mongodb+srv://Abood:Abood123ax@next-js.syz3y0l.mongodb.net/?retryWrites=true&w=majority\");\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\"); //find one single doc\n\n  const selectedMeetup = await meetupsCollection.findOne({\n    _id: ObjectId(meetupId) // this will convert the string id to object id\n\n  });\n  return {\n    props: {\n      meetupData: {\n        id: selectedMeetup._id.toString(),\n        //we must convert the id to string to avoid the serialization error\n        title: selectedMeetup.title,\n        address: selectedMeetup.address,\n        description: selectedMeetup.description,\n        image: selectedMeetup.image\n      }\n    }\n  };\n}\nexport default MeetupDetails;","map":{"version":3,"sources":["D:/react/06-onwards-to-a-bigger-project-starting-project/pages/[meetupId]/index.js"],"names":["MeetupDetail","MongoClient","ObjectId","Head","Fragment","MeetupDetails","props","meetupData","title","description","image","address","getStaticPaths","client","connect","db","meetupsCollection","collection","meetups","find","_id","toArray","close","fallback","paths","map","meetup","params","meetupId","toString","getStaticProps","context","selectedMeetup","findOne","id"],"mappings":"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","sourcesContent":["import MeetupDetail from \"../../components/meetups/MeetupDetail\";\r\nimport { MongoClient, ObjectId } from \"mongodb\";\r\nimport Head from \"next/head\";\r\nimport { Fragment } from \"react\";\r\n\r\nfunction MeetupDetails(props) {\r\n  return (\r\n    <Fragment>\r\n      <Head>\r\n        <title>{props.meetupData.title}</title>\r\n        <meta name=\"description\" content={props.meetupData.description} />\r\n      </Head>\r\n      <MeetupDetail\r\n        image={props.meetupData.image}\r\n        title={props.meetupData.title}\r\n        address={props.meetupData.address}\r\n        description={props.meetupData.description}\r\n      />\r\n    </Fragment>\r\n  );\r\n} /* if it dynamic page and we use getStaticProps we must export this func,\r\ngetStaticPaths allows you to control which pages are generated during the build instead of on-demand with fallback,will statically pre-render all the paths specified by getStaticPaths.  */\r\nexport async function getStaticPaths() {\r\n  /* object have path key and it's array have multiple object and obj should have params key */\r\n  const client = await MongoClient.connect(\r\n    \"mongodb+srv://Abood:Abood123ax@next-js.syz3y0l.mongodb.net/?retryWrites=true&w=majority\"\r\n  );\r\n  const db = client.db();\r\n  const meetupsCollection = db.collection(\"meetups\");\r\n  const meetups = await meetupsCollection.find({}, { _id: 1 }).toArray();\r\n  client.close();\r\n  //first empty object will give me all object,second arg will define which felid should be extract for every doc, _id: 1 =>this mean only include the id\r\n  return {\r\n    fallback: true,\r\n    /* if it false,mean your path's contain all supported  meetupID=>that's mean if use enter something ex:m3=>will see 404 error,if it true next js will try to generate page\r\n    for this meetup id dynamically on the server for incoming request,it's good features because it's allow us to pre-generate some of your pages for specific meetup id value\r\n    (ex :page visit most frequently and pre generate the messing one dynamically when request for them are coming in) \r\n    true : new path will be statically generated (getStaticProps is called) - loading state is shown while generating page(via router.isFallback and showing fallback page) -\r\n     page is rendered with required props after generating - \r\n     new path will be cached in CDN (later requests will result in cached page) - crawler Bots may index fallback page (not good for Seo) \r\n      true is useful if your app has a very large number of static pages that depend on data (such as a very large e-commerce site).\r\n       If you want to pre-render all product pages, the builds would take a very long time. Instead, you may statically generate a small subset of pages and use fallback: \r\n       true for the rest.*/\r\n    paths: meetups.map((meetup) => ({\r\n      params: { meetupId: meetup._id.toString() },\r\n    })),\r\n    /*  [\r\n      {\r\n        params: {\r\n          meetupId: \"m1\",\r\n        },\r\n      },\r\n      {\r\n        params: {\r\n          meetupId: \"m2\",\r\n        },\r\n      },\r\n    ], */\r\n  };\r\n}\r\n/* next js need to pre-generate all version of this dynamic page for all supported ID,because it's dynamic,next js should know for which id value should be pre-generate the page\r\nif we add id not found will see 404 error*/\r\nexport async function getStaticProps(context) {\r\n  /*fetch data for a single meetup,we need way to identify that's meetup (ex:ID),the id is encoded in url\r\n  so we can use Router hook to access router obj then use query property ,it's can use in component func \r\n  but it's not accessible inside getStaticProps.\r\n   */\r\n  /*that's object where out identifier between square bracts will be properties and the value\r\n   will be the actual value encoded in url*/\r\n\r\n  const meetupId = context.params.meetupId; //meetupId because that identifier i have between square bracts\r\n  const client = await MongoClient.connect(\r\n    \"mongodb+srv://Abood:Abood123ax@next-js.syz3y0l.mongodb.net/?retryWrites=true&w=majority\"\r\n  );\r\n  const db = client.db();\r\n  const meetupsCollection = db.collection(\"meetups\");\r\n  //find one single doc\r\n  const selectedMeetup = await meetupsCollection.findOne({\r\n    _id: ObjectId(meetupId), // this will convert the string id to object id\r\n  });\r\n  return {\r\n    props: {\r\n      meetupData: {\r\n        id: selectedMeetup._id.toString(), //we must convert the id to string to avoid the serialization error\r\n        title: selectedMeetup.title,\r\n        address: selectedMeetup.address,\r\n        description: selectedMeetup.description,\r\n        image: selectedMeetup.image,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default MeetupDetails;\r\n"]},"metadata":{},"sourceType":"module"}